
// 智能 UID 过滤器
// 规则依据：根据 B站历史架构与新版 ID 发行规律
static int is_likely_valid_uid(uint64_t uid) {
  // 1. 架构硬边界 (Legacy)
  // 0 ~ 2,147,483,647 (INT32_MAX)
  // 这是最常见的 UID 范围
  if (uid > 0 && uid <= 2147483647ULL) {
    return 1;
  }

  // 2. 新版 ID 规律 (New Era)
  // 观察发现新版 UID 均为 15-16 位数字
  // 最小 15 位: 100,000,000,000,000
  // 3546921440381311 (16位) 属于此范围
  // 我们暂时过滤掉 11-14 位的 "Dark Space" (暗空间) 噪音
  // 大量的 CRC32 碰撞实际上来自于这些中间长度的无效数字串
  if (uid >= 100000000000000ULL) { // >= 10^14
    return 1;
  }

  // 3. 过滤掉 11-14 位的数字 (噪音区)
  // 2.14亿 ~ 100万亿之间的数字极大概率是无效碰触
  return 0;
}
